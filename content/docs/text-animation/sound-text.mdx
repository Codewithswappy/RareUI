---
title: Sound Text
description: An interactive text animation that plays generated audio frequencies on hover.
badge: New
---

import SoundText from "@/components/rareui/Text Animation/SoundText";
import { Preview } from "@/components/mdx/preview";
import { Step, Steps } from 'fumadocs-ui/components/steps';

<Preview
  code={`"use client";

import React, { useRef, useCallback, useEffect } from "react";
import { motion, useAnimationControls } from "framer-motion";
import { cn } from "@/lib/utils";

interface SoundTextProps {
    text: string;
    className?: string;
    basePitch?: number; // Base frequency in Hz
}

// Simple Pentatonic Scale frequencies (approximate) relative to a base
// We will just multiply the base freq by these ratios
const SCALE_RATIOS = [
    1,          // Root
    1.125,      // Major 2nd
    1.25,       // Major 3rd
    1.5,        // Perfect 5th
    1.667,      // Major 6th
    2           // Octave
];

export default function SoundText({
    text = "Hover over me",
    className,
    basePitch = 300,
}: SoundTextProps) {
    const audioContextRef = useRef<AudioContext | null>(null);

    // Initialize AudioContext lazily on user interaction
    const initAudio = useCallback(() => {
        if (!audioContextRef.current) {
            audioContextRef.current = new (window.AudioContext || (window as any).webkitAudioContext)();
        }
        if (audioContextRef.current.state === "suspended") {
            audioContextRef.current.resume();
        }
    }, []);

    const playSound = useCallback((index: number) => {
        initAudio(); // Ensure context is ready
        if (!audioContextRef.current) return;

        const ctx = audioContextRef.current;
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();

        // Calculate pitch based on index to create a melody effect
        // Cycle through the scale
        const scaleIndex = index % SCALE_RATIOS.length;
        const octaveOffset = Math.floor(index / SCALE_RATIOS.length);
        const frequency = basePitch * SCALE_RATIOS[scaleIndex] * Math.pow(2, octaveOffset * 0.5); // Slight octave overlapping for smoother sound

        osc.type = "sine";
        osc.frequency.setValueAtTime(frequency, ctx.currentTime);

        // Envelope: Fast attack, smooth decay
        gain.gain.setValueAtTime(0, ctx.currentTime);
        gain.gain.linearRampToValueAtTime(0.3, ctx.currentTime + 0.02); // Attack
        gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.3); // Decay

        osc.connect(gain);
        gain.connect(ctx.destination);

        osc.start();
        osc.stop(ctx.currentTime + 0.4);
    }, [basePitch, initAudio]);

    // Cleanup
    useEffect(() => {
        return () => {
            if (audioContextRef.current) {
                audioContextRef.current.close();
            }
        };
    }, []);

    const letters = text.split("");

    const containerVariants = {
        hover: {
            transition: { staggerChildren: 0.05 }
        }
    };

    return (
        <motion.div
            className={cn("flex flex-wrap cursor-default select-none", className)}
            variants={containerVariants}
            initial="initial"
            whileHover="hover"
            onMouseEnter={initAudio}
        >
            {letters.map((letter, index) => {
                // If it's a space, render it but no sound triggers usually (or keep it for rhythm)
                if (letter === " ") {
                    return <span key={index} className="w-2"> </span>;
                }

                return (
                    <Letter
                        key={index}
                        char={letter}
                        index={index}
                        onHover={() => playSound(index)}
                    />
                );
            })}
        </motion.div>
    );
}

// Individual Letter Component for cleaner animation isolation
const Letter = ({ char, index, onHover }: { char: string; index: number; onHover: () => void }) => {
    const controls = useAnimationControls();

    // Random subtle rotation for "organic" feel
    const randomRotate = Math.random() * 10 - 5;

    return (
        <motion.span
            className="inline-block relative"
            onMouseEnter={() => {
                onHover();
                controls.start({
                    y: -10,
                    scale: 1.3,
                    rotate: randomRotate,
                    color: "#A855F7", // Purple-500 highlight
                    textShadow: "0px 0px 8px rgba(168, 85, 247, 0.6)",
                    transition: { type: "spring", stiffness: 500, damping: 10 }
                });
            }}
            onMouseLeave={() => {
                controls.start({
                    y: 0,
                    scale: 1,
                    rotate: 0,
                    color: "inherit",
                    textShadow: "none",
                    transition: { type: "spring", stiffness: 300, damping: 20 }
                });
            }}
            animate={controls}
            // Add initial subtle fade-in for page load
            initial={{ opacity: 0, y: 20 }}
            whileInView={{ opacity: 1, y: 0 }}
            viewport={{ once: true }}
            transition={{ delay: index * 0.02, type: "spring", stiffness: 200 }}
        >
            {char}
        </motion.span>
    );
};`}
  cliCommand="npx rareui add sound-text"
>
  <div className="w-full h-[200px] flex items-center justify-center">
    <SoundText text="Music to my ears" className="text-4xl md:text-6xl font-bold dark:text-white text-black" />
  </div>
</Preview>

## Usage

<Steps>


<Step>
### Import the component

```tsx
import SoundText from "@/components/rareui/SoundText";
```
</Step>

<Step>
### Use in your application

```tsx
export default function MyComponent() {
  return (
    <SoundText 
      text="Hover to play!" 
      className="text-5xl font-bold"
    />
  );
}
```
</Step>
</Steps>

## Props

| Prop | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| `text` | `string` | `"Hover over me"` | The text content to display. |
| `basePitch` | `number` | `300` | The base frequency in Hz for generating sound scale. |
| `className` | `string` | `-` | Additional styles for the container. |
