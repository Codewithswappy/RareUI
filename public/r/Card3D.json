{
  "name": "Card3D",
  "type": "registry:ui",
  "dependencies": [
    "react",
    "framer-motion"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/rareui/cards/Card3D.tsx",
      "content": "\"use client\";\r\n\r\nimport React, { CSSProperties, useId } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport type Card3DProps = {\r\n  /**\r\n   * card width (CSS value)\r\n   * e.g. \"16rem\", \"320px\", \"100%\"\r\n   */\r\n  width?: string;\r\n  /**\r\n   * card height (CSS value)\r\n   */\r\n  height?: string;\r\n  /**\r\n   * perspective for the 3d effect (px)\r\n   */\r\n  perspective?: number;\r\n  /**\r\n   * baseline rotation applied to the whole card (deg)\r\n   * Use this to angle the whole stack on mount.\r\n   */\r\n  rotateX?: number;\r\n  /**\r\n   * enable/disable the subtle noise overlay\r\n   */\r\n  noise?: boolean;\r\n  /**\r\n   * main background gradient stops (CSS color strings)\r\n   */\r\n  gradient?: { from: string; via?: string; to: string };\r\n  /**\r\n   * whether to render the layered stack effect (multi-layers)\r\n   */\r\n  layered?: boolean;\r\n  /**\r\n   * shadow intensity (0..1)\r\n   */\r\n  shadowIntensity?: number;\r\n  /**\r\n   * children content inside the card\r\n   */\r\n  children?: React.ReactNode;\r\n  /**\r\n   * additional container className\r\n   */\r\n  className?: string;\r\n  /**\r\n   * inline style override\r\n   */\r\n  style?: CSSProperties;\r\n};\r\n\r\nexport default function Card3D({\r\n  width = \"16rem\",\r\n  height = \"12rem\",\r\n  perspective = 1200,\r\n  rotateX = -20,\r\n  noise = true,\r\n  gradient = { from: \"rgba(255,255,255,0.98)\", via: \"rgba(245,245,247,1)\", to: \"rgba(240,240,242,1)\" },\r\n  layered = true,\r\n  shadowIntensity = 0.8,\r\n  children,\r\n  className = \"\",\r\n  style,\r\n}: Card3DProps) {\r\n  const uid = useId().replace(/:/g, \"-\"); // unique id for SVG noise filter\r\n  const noiseSvg = encodeURIComponent(\r\n    `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'><filter id='noiseFilter${uid}'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(#noiseFilter${uid})' /></svg>`\r\n  );\r\n  const noiseDataUrl = `url(\"data:image/svg+xml,${noiseSvg}\")`;\r\n\r\n  // small helper for layered transforms\r\n  const layerTransforms = [\r\n    \"translateY(-50px) scale(0.94) rotate(2deg)\",\r\n    \"translateY(-45px) translateZ(6px) scale(0.95)\",\r\n    \"translateY(-40px) translateZ(10px) scale(0.95) rotate(-2deg)\",\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      className={`relative inline-flex items-center justify-center ${className}`}\r\n      style={{\r\n        perspective: `${perspective}px`,\r\n        width,\r\n        height,\r\n        ...style,\r\n      }}\r\n      aria-hidden={false}\r\n    >\r\n      {/* Subtle radial backdrop (keeps visual from original) */}\r\n      <div\r\n        aria-hidden\r\n        className=\"absolute inset-0 pointer-events-none\"\r\n        style={{\r\n          background:\r\n            \"radial-gradient(circle at 50% 10%, rgba(255,255,255,0.4) 0%, transparent 40%)\",\r\n          opacity: 0.7,\r\n        }}\r\n      />\r\n\r\n      <div\r\n        className=\"relative w-full h-full group\"\r\n        style={{\r\n          transformStyle: \"preserve-3d\",\r\n          transformOrigin: \"center bottom\",\r\n        }}\r\n      >\r\n        {/* optional floor shadow */}\r\n        <div\r\n          aria-hidden\r\n          style={{\r\n            position: \"absolute\",\r\n            left: \"8px\",\r\n            right: \"8px\",\r\n            bottom: \"-3rem\",\r\n            height: \"1rem\",\r\n            borderRadius: \"999px\",\r\n            filter: \"blur(28px)\",\r\n            background: `rgba(0,0,0,${Math.min(0.9, shadowIntensity)})`,\r\n            transform: \"rotateX(90deg) translateZ(-80px)\",\r\n            transition: \"transform 0.7s\",\r\n          }}\r\n          className=\"transition-transform duration-700 group-hover:scale-x-105\"\r\n        />\r\n\r\n        {/* BACKDROP LAYER (dark shell) */}\r\n        <div\r\n          aria-hidden\r\n          className=\"absolute inset-0 rounded-2xl\"\r\n          style={{\r\n            transform: `translateZ(-20px)`,\r\n            background: \"radial-gradient(circle at 50% 0%, #3a3a3a 0%, #1a1a1a 60%, #050505 100%)\",\r\n            boxShadow:\r\n              \"inset 0 1px 0 rgba(255,255,255,0.25), inset 1px 0 0 rgba(255,255,255,0.1), inset -1px 0 0 rgba(255,255,255,0.1), inset 0 -2px 5px rgba(0,0,0,0.8), inset 0 0 40px rgba(0,0,0,0.6), 0 25px 50px -12px rgba(0,0,0,0.8)\",\r\n            border: \"1px solid rgba(255,255,255,0.05)\",\r\n            overflow: \"hidden\",\r\n          }}\r\n        >\r\n          {/* overlay texture */}\r\n          {noise && (\r\n            <div\r\n              aria-hidden\r\n              style={{\r\n                position: \"absolute\",\r\n                inset: 0,\r\n                opacity: 0.12,\r\n                mixBlendMode: \"overlay\",\r\n                pointerEvents: \"none\",\r\n                backgroundImage: noiseDataUrl,\r\n                backgroundSize: \"600px 600px\",\r\n              }}\r\n            />\r\n          )}\r\n          {/* soft linear darkness */}\r\n          <div\r\n            aria-hidden\r\n            style={{\r\n              position: \"absolute\",\r\n              inset: 0,\r\n              opacity: 0.6,\r\n              background:\r\n                \"linear-gradient(180deg, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 40%, transparent 100%)\",\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        {/* Multi layered panels (keeps the look of stacked cards) */}\r\n        {layered &&\r\n          layerTransforms.map((tr, i) => (\r\n            <div\r\n              key={i}\r\n              aria-hidden\r\n              className=\"absolute inset-x-0 bottom-0 rounded-xl flex flex-col p-5 overflow-hidden\"\r\n              style={{\r\n                transformOrigin: \"center bottom\",\r\n                zIndex: 3 + i,\r\n                background: `linear-gradient(180deg, ${gradient.from} 0%, ${gradient.via ?? gradient.from} 60%, ${gradient.to} 100%)`,\r\n                borderTop: \"1px solid rgba(255,255,255,0.8)\",\r\n                borderLeft: \"1px solid rgba(255,255,255,0.4)\",\r\n                borderRight: \"1px solid rgba(255,255,255,0.4)\",\r\n                boxShadow:\r\n                  \"rgba(255,255,255,0.5) 0px 0px 20px inset, rgba(0,0,0,0.05) 0px 1px 2px, rgba(0,0,0,0.05) 0px 4px 8px, rgba(0,0,0,0.1) 0px 8px 24px -4px\",\r\n                transform: tr,\r\n                opacity: 1 - i * 0.08,\r\n              }}\r\n            >\r\n              {/* very light noise layer for realism */}\r\n              {noise && (\r\n                <div\r\n                  aria-hidden\r\n                  style={{\r\n                    position: \"absolute\",\r\n                    inset: 0,\r\n                    opacity: 0.06,\r\n                    pointerEvents: \"none\",\r\n                    mixBlendMode: \"multiply\",\r\n                    backgroundImage: noiseDataUrl,\r\n                    backgroundSize: \"600px 600px\",\r\n                  }}\r\n                />\r\n              )}\r\n              {/* content placeholders for visual fidelity (kept empty) */}\r\n            </div>\r\n          ))}\r\n\r\n        {/* MAIN INTERACTIVE SURFACE */}\r\n        <motion.div\r\n          className=\"absolute inset-x-5 bottom-4 top-4 pointer-events-auto rounded-2xl\"\r\n          style={{\r\n            transformStyle: \"preserve-3d\",\r\n            zIndex: 10,\r\n          }}\r\n          initial={{ opacity: 0, y: 12, rotateX }}\r\n          animate={{ opacity: 1, y: 0, rotateX }}\r\n          transition={{ duration: 0.5, ease: [0.2, 0.8, 0.2, 1] }}\r\n          whileHover={{ rotateX: 0, y: -4, scale: 1.01 }}\r\n          whileTap={{ scale: 0.99 }}\r\n        >\r\n          <div\r\n            className=\"relative w-full h-full rounded-xl overflow-hidden\"\r\n            style={{\r\n              background: `linear-gradient(180deg, ${gradient.from} 0%, ${gradient.via ??\r\n                gradient.from} 50%, ${gradient.to} 100%)`,\r\n              borderTop: \"1px solid rgba(255,255,255,0.8)\",\r\n              borderLeft: \"1px solid rgba(255,255,255,0.4)\",\r\n              borderRight: \"1px solid rgba(255,255,255,0.4)\",\r\n              boxShadow:\r\n                \"rgba(255,255,255,0.5) 0px 0px 20px inset, rgba(0,0,0,0.05) 0px 1px 2px, rgba(0,0,0,0.05) 0px 4px 8px, rgba(0,0,0,0.1) 0px 8px 24px -4px\",\r\n              transform: \"translateY(-6px)\",\r\n              padding: \"1rem\",\r\n            }}\r\n          >\r\n            {/* subtle overlay gradient + noise */}\r\n            {noise && (\r\n              <div\r\n                aria-hidden\r\n                style={{\r\n                  position: \"absolute\",\r\n                  inset: 0,\r\n                  opacity: 0.06,\r\n                  pointerEvents: \"none\",\r\n                  mixBlendMode: \"multiply\",\r\n                  backgroundImage: noiseDataUrl,\r\n                  backgroundSize: \"600px 600px\",\r\n                }}\r\n              />\r\n            )}\r\n\r\n            {/* content container where library consumers place their UI */}\r\n            <div style={{ position: \"relative\", zIndex: 5, height: \"100%\" }}>{children}</div>\r\n\r\n            {/* highlight shimmer (animated on hover via group) */}\r\n            <div\r\n              aria-hidden\r\n              className=\"absolute -inset-full pointer-events-none transition-transform duration-700 group-hover:translate-y-0\"\r\n              style={{\r\n                transform: \"translateY(33%)\",\r\n                background:\r\n                  \"linear-gradient(120deg, transparent 0%, rgba(255,255,255,0.08) 40%, rgba(255,255,255,0.02) 60%, transparent 100%)\",\r\n              }}\r\n            />\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* top reflective shell rotated back to give depth */}\r\n        <div\r\n          aria-hidden\r\n          className=\"absolute inset-0\"\r\n          style={{\r\n            transformStyle: \"preserve-3d\",\r\n            transformOrigin: \"center bottom\",\r\n            transform: `rotateX(${rotateX}deg)`,\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:ui",
      "target": "components/rareui/cards/Card3D.tsx"
    }
  ]
}