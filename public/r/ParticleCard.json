{
  "name": "ParticleCard",
  "type": "registry:ui",
  "dependencies": [
    "react",
    "motion",
    "clsx",
    "tailwind-merge",
    "@types/react",
    "typescript"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/rareui/cards/ParticleCard.tsx",
      "content": "'use client'\r\n\r\nimport { useMemo, useState, useRef, useEffect } from 'react'\r\nimport { motion, AnimatePresence } from 'motion/react'\r\nimport { clsx, type ClassValue } from 'clsx'\r\nimport { twMerge } from 'tailwind-merge'\r\n\r\nfunction cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n\r\ninterface ParticleData {\r\n  x: number\r\n  y: number\r\n  posX: number\r\n  posY: number\r\n  randX: number\r\n  randY: number\r\n  rotate: number\r\n  scale: number\r\n  delay: number\r\n  blur: number\r\n}\r\n\r\ninterface ParticleCardProps {\r\n  name?: string\r\n  role?: string\r\n  bio?: string\r\n  img?: string\r\n  tags?: string[]\r\n  cols?: number\r\n  rows?: number\r\n}\r\n\r\nconst Particle = ({\r\n  p,\r\n  active,\r\n  img,\r\n  cols,\r\n  rows,\r\n}: {\r\n  p: ParticleData\r\n  active: boolean\r\n  img: string\r\n  cols: number\r\n  rows: number\r\n}) => {\r\n  const innerPadding = 4 // Reduced padding for tighter fit\r\n\r\n  const backgroundStyle = {\r\n    backgroundImage: `url(${img})`,\r\n    backgroundSize: `${cols * 100}% ${rows * 100}%`,\r\n    backgroundPosition: `${p.posX}% ${p.posY}%`,\r\n    backgroundRepeat: 'no-repeat',\r\n  }\r\n\r\n  // More dramatic scattering\r\n  const finalTransform = `translate3d(${p.randX * 1.5}px, ${p.randY * 1.5}px, 0) rotate(${p.rotate * 2}deg) scale(${p.scale * 0.8})`\r\n\r\n  const style: React.CSSProperties = {\r\n    ...backgroundStyle,\r\n    // Slower, smoother transition (increased duration)\r\n    transition: `transform 5400ms cubic-bezier(.2,.8,.2,1) ${p.delay}ms, opacity 5400ms ease-in ${p.delay + 500}ms`,\r\n    transform: active ? finalTransform : 'translate3d(0,0,0) rotate(0deg) scale(1)',\r\n    opacity: active ? 0 : 1, \r\n    // Remove artifacts when inactive\r\n    boxShadow: active ? '0 2px 4px rgba(0,0,0,0.1)' : 'none',\r\n    borderRadius: active ? '4px' : '0', \r\n    width: `100.5%`, // Slight overlap to prevent sub-pixel gaps\r\n    height: `100.5%`,\r\n    willChange: 'transform, opacity',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n  }\r\n\r\n  return (\r\n    <div \r\n      style={{ \r\n        width: `${100 / cols}%`, \r\n        height: `${100 / rows}%`, \r\n        position: 'absolute',\r\n        left: `${(p.x / cols) * 100}%`,\r\n        top: `${(p.y / rows) * 100}%`\r\n      }}\r\n    >\r\n      <div style={style} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function ParticleCard({\r\n  name = 'Sam Jenkins',\r\n  role = 'Product Designer',\r\n  bio = 'Passionate about creating intuitive and beautiful user experiences. I specialize in UI/UX design and frontend development with a focus on accessibility. I am a frontend developer with a passion for creating engaging and interactive user interfaces.',\r\n  img = 'https://images.unsplash.com/photo-1676377630534-a08fd9778701?q=80&w=930&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',\r\n  tags = ['UI/UX', 'React', 'Motion', 'Figma'],\r\n  cols = 20, \r\n  rows = 24, \r\n}: ParticleCardProps) {\r\n  const [active, setActive] = useState(false)\r\n  const [isMobile, setIsMobile] = useState(false)\r\n  \r\n  useEffect(() => {\r\n    const checkMobile = () => setIsMobile(window.matchMedia('(max-width: 768px)').matches)\r\n    checkMobile()\r\n    window.addEventListener('resize', checkMobile)\r\n    return () => window.removeEventListener('resize', checkMobile)\r\n  }, [])\r\n\r\n  // Precompute particle metadata\r\n  const particles = useMemo(() => {\r\n    const arr: ParticleData[] = []\r\n    for (let y = 0; y < rows; y++) {\r\n      for (let x = 0; x < cols; x++) {\r\n        const posX = (x / (cols - 1)) * 100\r\n        const posY = (y / (rows - 1)) * 100\r\n        \r\n        // Center-based explosion logic\r\n        const centerX = cols / 2\r\n        const centerY = rows / 2\r\n        const dx = x - centerX\r\n        const dy = y - centerY\r\n        \r\n        const angle = Math.atan2(dy, dx)\r\n        const distance = Math.sqrt(dx * dx + dy * dy)\r\n        \r\n        // Randomize slightly but keep directional momentum\r\n        const spread = 150 + Math.random() * 300\r\n        const randX = Math.cos(angle) * spread * (1 + Math.random() * 0.5)\r\n        const randY = Math.sin(angle) * spread * (1 + Math.random() * 0.5)\r\n        \r\n        const rotate = (Math.random() * 2 - 1) * 180\r\n        const scale = 0.5 + Math.random() * 0.5\r\n        \r\n        // Delay based on distance from center (ripple effect) or random\r\n        const delay = distance * 20 + Math.random() * 150 // Increased delay spread\r\n        const blur = Math.random() * 2\r\n\r\n        arr.push({ x, y, posX, posY, randX, randY, rotate, scale, delay, blur })\r\n      }\r\n    }\r\n    return arr\r\n  }, [cols, rows])\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-center p-8 min-h-[400px]\">\r\n      <motion.div\r\n        className={cn(\r\n          \"relative w-[330px] h-[450px] rounded-lg bg-card shadow-2xl overflow-hidden cursor-pointer\",\r\n          \"group select-none\"\r\n        )}\r\n        initial={false}\r\n        animate={active ? { scale: 1.02 } : { scale: 1 }}\r\n        transition={{ duration: 0.4, ease: \"easeOut\" }}\r\n        onHoverStart={() => !isMobile && setActive(true)}\r\n        onHoverEnd={() => !isMobile && setActive(false)}\r\n        onClick={() => setIsMobile(!active)} // Tap to toggle on mobile\r\n      >\r\n        \r\n        {/* --- Background Content (Revealed on Hover) --- */}\r\n        <div className=\"absolute inset-0 flex flex-col p-6 pt-4 pb-6 bg-gradient-to-br from-background to-muted z-0\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={active ? { opacity: 1, y: 0 } : { opacity: 0, y: 20 }}\r\n            transition={{ duration: 0.8, delay: 0.2 }}\r\n            className=\"flex flex-col gap-3 h-full\"\r\n          >\r\n            <div>\r\n              <h3 className=\"text-2xl font-bold text-foreground m-0\">{name}</h3>\r\n              <p className=\"text-muted-foreground font-medium m-0\">{role}</p>\r\n            </div>\r\n            \r\n            <p className=\"text-muted-foreground leading-relaxed text-sm flex-1 m-0\">\r\n              {bio}\r\n            </p>\r\n\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {tags.map((tag, i) => (\r\n                <span key={i} className=\"px-3 py-1 text-xs font-semibold text-foreground bg-background/80 rounded-md border border-border hover:bg-background duration-400\">\r\n                  {tag}\r\n                </span>\r\n              ))}\r\n            </div>\r\n\r\n            <button className=\"mt-3 w-full py-3 !bg-primary text-primary-foreground rounded-xl font-semibold text-sm hover:!bg-primary/90 transition-all !flex !items-center !justify-center gap-2 group/btn duration-300 cursor-pointer shadow-lg !border-0\">\r\n              View Profile\r\n              <svg className=\"w-4 h-4 transition-transform group-hover/btn:translate-x-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n              </svg>\r\n            </button>\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* --- Foreground Image / Particles (Vanish on Hover) --- */}\r\n        <div className=\"absolute inset-0 z-10 h-full w-full\">\r\n          {/* Static Image (fades out) */}\r\n          <img\r\n            src={img}\r\n            alt={name}\r\n            className={cn(\r\n              \"absolute top-0 left-0 w-full h-full object-cover pointer-events-none transition-opacity duration-500 ease-out\",\r\n              active ? \"opacity-0\" : \"opacity-100\"\r\n            )}\r\n          />\r\n          \r\n          {/* Overlay Gradient for text readability (fades out) */}\r\n          <div \r\n            className={cn(\r\n              \"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent transition-opacity duration-500\",\r\n              active ? \"opacity-0\" : \"opacity-100\"\r\n            )} \r\n          />\r\n\r\n          {/* Initial Text Overlay (fades out) */}\r\n          <div className={cn(\r\n            \"absolute bottom-0 left-0 right-0 p-8 transition-all duration-500 transform\",\r\n            active ? \"opacity-0 translate-y-4\" : \"opacity-100 translate-y-0\"\r\n          )}>\r\n            <h2 className=\"text-3xl font-bold text-white mb-1\">{name}</h2>\r\n            <p className=\"text-white/90 font-medium\">{role}</p>\r\n          </div>\r\n\r\n          {/* Particle Grid */}\r\n          <div className=\"absolute inset-0 w-full h-full overflow-hidden\">\r\n            {particles.map((p, i) => (\r\n              <Particle\r\n                key={i}\r\n                p={p}\r\n                active={active}\r\n                img={img}\r\n                cols={cols}\r\n                rows={rows}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n      </motion.div>\r\n    </div>\r\n  )\r\n}\r\n",
      "type": "registry:ui",
      "target": "components/rareui/cards/ParticleCard.tsx"
    }
  ]
}