{
  "name": "ProfileDropdown",
  "type": "registry:ui",
  "dependencies": [
    "react",
    "motion",
    "@types/react",
    "typescript"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/rareui/blocks/ProfileDropdown.tsx",
      "content": "'use client'\r\n\r\nimport React, { useState } from 'react'\r\nimport { motion, AnimatePresence, LayoutGroup } from 'motion/react'\r\nimport { cn } from '@/lib/utils'\r\n\r\ninterface ProfileDropdownProps {\r\n  className?: string\r\n}\r\n\r\n// Define Account Types\r\ninterface Account {\r\n  id: string\r\n  name: string\r\n  plan: string\r\n  image: string\r\n  isPro?: boolean\r\n}\r\n\r\nexport default function ProfileDropdown({ className }: ProfileDropdownProps) {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [isAccountSwitcherOpen, setIsAccountSwitcherOpen] = useState(false)\r\n  const [selectedItem, setSelectedItem] = useState<string | null>('activity')\r\n  \r\n  // State for the currently active account (default: Personal Pro)\r\n  const [activeAccount, setActiveAccount] = useState<Account>({\r\n    id: 'personal_pro',\r\n    name: \"Personal\",\r\n    plan: \"Pro plan\",\r\n    image: \"https://api.dicebear.com/9.x/notionists/svg?seed=Sophia\",\r\n    isPro: true\r\n  })\r\n\r\n  // List of other available accounts\r\n  const allAccounts: Account[] = [\r\n    { id: 'personal_pro', name: \"Personal\", plan: \"Pro plan\", image: \"https://api.dicebear.com/9.x/notionists/svg?seed=Sophia\", isPro: true },\r\n    { id: 'team', name: \"Team Plan\", plan: \"Enterprise\", image: \"https://api.dicebear.com/9.x/open-peeps/svg?seed=Ryan\" },\r\n    { id: 'personal_free', name: \"Personal\", plan: \"Free plan\", image: \"https://api.dicebear.com/9.x/notionists/svg?seed=Riley\" }\r\n  ]\r\n\r\n  // Filter out the active account from the switcher list\r\n  const switcherAccounts = allAccounts.filter(acc => acc.id !== activeAccount.id)\r\n\r\n  const handleSwitchAccount = (account: Account) => {\r\n    setActiveAccount(account)\r\n    setIsAccountSwitcherOpen(false) // Close switcher after selection\r\n  }\r\n\r\n  const springTransition = {\r\n    type: \"spring\" as const,\r\n    stiffness: 450,\r\n    damping: 35,\r\n    mass: 1\r\n  }\r\n\r\n  const menuItems = [\r\n    { id: 'upgrade', label: 'Upgrade plan', icon: UpgradeIcon },\r\n    { id: 'activity', label: 'Activity', icon: ActivityIcon },\r\n    { id: 'settings', label: 'Settings', icon: SettingsIcon },\r\n  ]\r\n\r\n  const bottomItems = [\r\n    { id: 'help', label: 'Help', icon: HelpIcon, hasChevron: true },\r\n    { id: 'logout', label: 'Log out', icon: LogoutIcon },\r\n  ]\r\n\r\n  return (\r\n    <div className={cn(\"flex flex-col gap-4 items-center justify-center min-h-screen font-sans\", className)}>\r\n      <div className=\"relative\">\r\n      {/* ------------------- TRIGGER BUTTON ------------------- */}\r\n      <motion.button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"relative w-[280px] max-w-[90vw] outline-none z-50 group\"\r\n        whileTap={{ scale: 0.98 }}\r\n        transition={springTransition}\r\n      >\r\n        <div className=\"\r\n            flex items-center gap-3 p-2 pr-4\r\n            bg-[#F7F7F7] dark:bg-[#1A1A1A]\r\n            rounded-[24px] \r\n            shadow-[0_4px_12px_-2px_rgba(0,0,0,0.08),0_1px_0_rgba(255,255,255,0.8)_inset]\r\n            border border-white/60 dark:border-white/5\r\n        \">\r\n            {/* Profile Picture */}\r\n            <div className=\"relative shrink-0\">\r\n                <img \r\n                src={activeAccount.image} \r\n                alt={activeAccount.name}\r\n                className=\"w-10 h-10 rounded-full object-cover ring-2 ring-white dark:ring-[#2C2C2C]\"\r\n                />\r\n                <div className=\"absolute bottom-0 right-0 w-3 h-3 bg-[#00C48C] rounded-full border-[2px] border-[#F7F7F7] dark:border-[#1A1A1A]\" />\r\n            </div>\r\n\r\n            {/* User Info */}\r\n            <div className=\"flex-1 text-left flex flex-col justify-center\">\r\n                <h3 className=\"text-[15px] font-bold text-[#1A1A1A] dark:text-white leading-tight tracking-tight\">\r\n                    {activeAccount.name}\r\n                </h3>\r\n                <p className=\"text-[13px] text-[#999] dark:text-[#A0A0A0] font-medium leading-tight mt-0.5\">\r\n                    {activeAccount.plan}\r\n                </p>\r\n            </div>\r\n\r\n            {/* Selector Icon */}\r\n            <motion.div\r\n                animate={{ rotate: isOpen ? 180 : 0 }}\r\n                transition={springTransition}\r\n                className=\"text-[#BBB] dark:text-[#666]\"\r\n            >\r\n                <DiamondSelectorIcon />\r\n            </motion.div>\r\n        </div>\r\n      </motion.button>\r\n\r\n      {/* ------------------- EXPANDED MENU ------------------- */}\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: -10, scale: 0.95, filter: \"blur(4px)\" }}\r\n            animate={{ opacity: 1, y: 0, scale: 1, filter: \"blur(0px)\" }}\r\n            exit={{ opacity: 0, y: -10, scale: 0.95, filter: \"blur(4px)\" }}\r\n            transition={{ ...springTransition, duration: 0.2 }}\r\n            className=\"\r\n                absolute top-full left-0 mt-2\r\n                w-[280px] max-w-[90vw]\r\n                bg-[#F2F3F5] dark:bg-[#161616]\r\n                rounded-[32px]\r\n                shadow-[0_24px_48px_-12px_rgba(0,0,0,0.15),0_0_0_1px_rgba(0,0,0,0.02)]\r\n                border border-white/50 dark:border-white/5\r\n                overflow-hidden\r\n                z-40\r\n            \"\r\n          >\r\n            {/* 1. Header: Email */}\r\n            <div className=\"pt-5 pb-2 px-5 flex items-center gap-2.5\">\r\n                 <div className=\"w-7 h-7 rounded-full border border-[#E5E6E8] dark:border-[#333] flex items-center justify-center text-[#888] dark:text-[#999] bg-white dark:bg-white/5\">\r\n                     <MailIcon className=\"w-3.5 h-3.5\" />\r\n                 </div>\r\n                 <span className=\"text-[13px] font-medium text-[#666] dark:text-[#AAA]\">\r\n                     jasim.design@gmail.com\r\n                 </span>\r\n            </div>\r\n\r\n            {/* Separator */}\r\n            <div className=\"h-px bg-[#E5E6E8] dark:bg-[#222] mx-4 my-2\" />\r\n\r\n            {/* 2. Account Switcher Trigger */}\r\n            <div className=\"px-2.5\">\r\n                <motion.button \r\n                    onClick={() => setIsAccountSwitcherOpen(!isAccountSwitcherOpen)}\r\n                    className=\"w-full flex items-center gap-2.5 p-2 rounded-[20px] hover:bg-white/60 dark:hover:bg-white/5 transition-colors text-left group\"\r\n                >\r\n                     <div className=\"relative shrink-0\">\r\n                        <img \r\n                            src={activeAccount.image} \r\n                            alt={activeAccount.name}\r\n                            className=\"w-10 h-10 rounded-full object-cover ring-2 ring-white dark:ring-[#2C2C2C]\"\r\n                        />\r\n                         <div className=\"absolute bottom-0 right-0 w-2.5 h-2.5 bg-[#00C48C] rounded-full border-[2px] border-[#F2F3F5] dark:border-[#161616]\" />\r\n                    </div>\r\n                    \r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"text-[14px] font-bold text-[#1A1A1A] dark:text-white leading-tight group-hover:text-black dark:group-hover:text-white transition-colors\">\r\n                            {activeAccount.name}\r\n                        </h3>\r\n                        <p className=\"text-[12px] text-[#888] dark:text-[#A0A0A0] font-medium leading-tight mt-0.5 group-hover:text-[#666] dark:group-hover:text-[#888] transition-colors\">\r\n                            {activeAccount.plan}\r\n                        </p>\r\n                    </div>\r\n\r\n                    <motion.div \r\n                        animate={{ rotate: isAccountSwitcherOpen ? 180 : 0 }}\r\n                        className=\"mr-1 text-[#999] dark:text-[#666]\"\r\n                    >\r\n                        <ChevronDownIcon />\r\n                    </motion.div>\r\n                </motion.button>\r\n                \r\n                {/* 2a. Nested Account List */}\r\n                <AnimatePresence>\r\n                    {isAccountSwitcherOpen && (\r\n                        <motion.div\r\n                            initial={{ height: 0, opacity: 0 }}\r\n                            animate={{ height: \"auto\", opacity: 1 }}\r\n                            exit={{ height: 0, opacity: 0 }}\r\n                            transition={springTransition}\r\n                            className=\"overflow-hidden pl-2 pr-1\"\r\n                        >\r\n                            {switcherAccounts.map((acc) => (\r\n                                <motion.button\r\n                                    key={acc.id}\r\n                                    onClick={() => handleSwitchAccount(acc)}\r\n                                    className=\"w-full flex items-center gap-2 p-1.5 rounded-[16px] hover:bg-white/60 dark:hover:bg-white/5 transition-colors text-left mb-1 group\"\r\n                                    initial={{ x: -10, opacity: 0 }}\r\n                                    animate={{ x: 0, opacity: 1 }}\r\n                                    whileTap={{ scale: 0.98 }}\r\n                                >\r\n                                    <div className=\"relative shrink-0 w-8 h-8\">\r\n                                         <img src={acc.image} className=\"w-full h-full rounded-full opacity-80 group-hover:opacity-100 transition-opacity\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"text-[13px] font-semibold text-[#555] dark:text-[#CCC] group-hover:text-[#1A1A1A] dark:group-hover:text-white transition-colors leading-tight\">\r\n                                            {acc.name}\r\n                                        </p>\r\n                                        <p className=\"text-[11px] text-[#999] group-hover:text-[#777] dark:group-hover:text-[#AAA] transition-colors leading-tight\">\r\n                                            {acc.plan}\r\n                                        </p>\r\n                                    </div>\r\n                                </motion.button>\r\n                            ))}\r\n                            <div className=\"h-2\" />\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n\r\n            {/* Separator */}\r\n            <div className={cn(\"h-px bg-[#E5E6E8] dark:bg-[#222] mx-4 my-2 transition-opacity duration-200\", isAccountSwitcherOpen ? \"opacity-30\" : \"opacity-100\")} />\r\n\r\n            {/* 3. Main Menu */}\r\n            <div className=\"px-2.5 pb-4 space-y-0.5\">\r\n                <LayoutGroup>\r\n                     {menuItems.map((item) => (\r\n                        <MenuItem \r\n                            key={item.id} \r\n                            item={item} \r\n                            isSelected={selectedItem === item.id}\r\n                            onClick={() => setSelectedItem(item.id)}\r\n                            isActiveAccount={true} \r\n                        />\r\n                    ))}\r\n                    \r\n                    {/* Spacer */}\r\n                    <div className=\"h-2\" />\r\n                    <div className=\"h-px bg-[#E5E6E8] dark:bg-[#222] mx-2 mb-2\" />\r\n\r\n                    {bottomItems.map((item) => (\r\n                        <MenuItem \r\n                            key={item.id} \r\n                            item={item} \r\n                            isSelected={selectedItem === item.id}\r\n                            onClick={() => setSelectedItem(item.id)}\r\n                            isRed={item.id === 'logout'}\r\n                        />\r\n                    ))}\r\n                </LayoutGroup>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction MenuItem({ item, isSelected, onClick, isRed, isActiveAccount }: { item: any, isSelected: boolean, onClick: () => void, isRed?: boolean, isActiveAccount?: boolean }) {\r\n    return (\r\n        <motion.button\r\n            onClick={onClick}\r\n            className={cn(\r\n                \"relative w-full flex items-center gap-3 px-4 py-3 rounded-[20px] text-left outline-none transition-all duration-200 group z-0\",\r\n                isSelected ? \"\" : \"hover:bg-white/40 dark:hover:bg-white/5\"\r\n            )}\r\n            whileTap={{ scale: 0.98 }}\r\n        >\r\n            {/* Active Pill Background */}\r\n            {isSelected && (\r\n                <motion.div\r\n                    layoutId=\"active-pill\"\r\n                    className=\"absolute inset-0 rounded-[20px] bg-gradient-to-b from-white to-[#F7F9FC] dark:from-[#333] dark:to-[#222] shadow-[0_2px_10px_-2px_rgba(0,0,0,0.06),inset_0_1px_0_rgba(255,255,255,0.7),0_1px_1px_rgba(0,0,0,0.02)] border-t border-white/80 dark:border-white/10 z-[-1]\"\r\n                    transition={{ type: \"spring\", stiffness: 450, damping: 35 }}\r\n                />\r\n            )}\r\n\r\n            {/* Icon */}\r\n            <span className={cn(\r\n                \"relative z-10 transition-colors duration-200\",\r\n                isSelected \r\n                    ? \"text-[#1A1A1A] dark:text-white\" \r\n                    : \"text-[#777] dark:text-[#888] group-hover:text-[#333] dark:group-hover:text-[#CCC]\"\r\n            )}>\r\n                <item.icon />\r\n            </span>\r\n\r\n            {/* Label */}\r\n            <span className={cn(\r\n                \"relative z-10 flex-1 text-[14px] transition-colors duration-200 leading-none\",\r\n                isSelected \r\n                    ? \"text-[#1A1A1A] dark:text-white font-semibold\" \r\n                    : \"text-[#555] dark:text-[#999] font-medium group-hover:text-[#1A1A1A] dark:group-hover:text-white\"\r\n            )}>\r\n                {item.label}\r\n            </span>\r\n\r\n             {/* Optional Chevron */}\r\n             {item.hasChevron && (\r\n                <span className=\"relative z-10 text-[#CCC] dark:text-[#555] group-hover:text-[#999] dark:group-hover:text-[#888] transition-colors\">\r\n                    <ChevronRightIcon />\r\n                </span>\r\n            )}\r\n            \r\n            {/* Universal subtle glow for ACTIVE state */}\r\n            {isSelected && (\r\n                 <div className=\"absolute inset-x-4 bottom-0 h-px bg-gradient-to-r from-transparent via-cyan-400/30 to-transparent blur-[1px]\" />\r\n            )}\r\n        </motion.button>\r\n    )\r\n}\r\n\r\n// Icons \r\n\r\nfunction DiamondSelectorIcon() {\r\n    return (\r\n      <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" style={{ transform: 'rotate(45deg)' }}>\r\n         <rect x=\"5\" y=\"5\" width=\"14\" height=\"14\" rx=\"2\" />\r\n      </svg>\r\n    )\r\n}\r\n\r\nfunction UserIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\r\n      <circle cx=\"12\" cy=\"8\" r=\"4\" />\r\n      <path d=\"M20 21a8 8 0 1 0-16 0\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\nfunction MailIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\r\n      <rect width=\"20\" height=\"16\" x=\"2\" y=\"4\" rx=\"2\" />\r\n      <path d=\"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\nfunction ChevronDownIcon() {\r\n    return (\r\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n        <path d=\"M6 9l6 6 6-6\" />\r\n      </svg>\r\n    )\r\n}\r\n\r\nfunction ChevronRightIcon() {\r\n  return (\r\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n      <path d=\"M9 18l6-6-6-6\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\nfunction UpgradeIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n      <rect x=\"6\" y=\"2\" width=\"12\" height=\"20\" rx=\"2\" />\r\n      <line x1=\"10\" y1=\"16\" x2=\"14\" y2=\"16\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\nfunction ActivityIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n      <path d=\"M22 12h-4l-3 9L9 3l-3 9H2\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\nfunction SettingsIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n      <line x1=\"4\" y1=\"21\" x2=\"4\" y2=\"14\" />\r\n      <line x1=\"4\" y1=\"10\" x2=\"4\" y2=\"3\" />\r\n      <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"12\" />\r\n      <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"3\" />\r\n      <line x1=\"20\" y1=\"21\" x2=\"20\" y2=\"16\" />\r\n      <line x1=\"20\" y1=\"12\" x2=\"20\" y2=\"3\" />\r\n      <line x1=\"1\" y1=\"14\" x2=\"7\" y2=\"14\" />\r\n      <line x1=\"9\" y1=\"8\" x2=\"15\" y2=\"8\" />\r\n      <line x1=\"17\" y1=\"16\" x2=\"23\" y2=\"16\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\nfunction HelpIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\r\n      <path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\" />\r\n      <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\" />\r\n    </svg>\r\n  )\r\n}\r\n\r\nfunction LogoutIcon() {\r\n  return (\r\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n       <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" />\r\n       <polyline points=\"16 17 21 12 16 7\" />\r\n       <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\" />\r\n    </svg>\r\n  )\r\n}\r\n",
      "type": "registry:ui",
      "target": "components/rareui/blocks/ProfileDropdown.tsx"
    }
  ]
}