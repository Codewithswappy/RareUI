{
  "name": "book-3d",
  "type": "registry:ui",
  "dependencies": [
    "framer-motion",
    "react",
    "@types/react",
    "typescript"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/rareui/3D elements/book-3d.tsx",
      "content": "\"use client\"\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport { cn } from \"@/lib/utils\"\r\nimport { useState, useEffect } from \"react\"\r\n\r\ninterface PageData {\r\n  title?: string\r\n  content?: string\r\n  image?: string\r\n  caption?: string\r\n  quote?: string\r\n  author?: string\r\n}\r\n\r\ninterface Book3DProps {\r\n  src?: string\r\n  title?: string\r\n  subtitle?: string\r\n  width?: number\r\n  height?: number\r\n  className?: string\r\n  pages?: PageData[]\r\n}\r\n\r\nexport function Book3D({ \r\n  src, \r\n  title, \r\n  subtitle, \r\n  width = 230, \r\n  height = 350,\r\n  className,\r\n  pages = [\r\n    {\r\n      title: \"Welcome to RareUI\",\r\n      content: \"A premium collection of beautifully crafted, animated React components. Built with Motion and Tailwind CSS for modern web applications.\"\r\n    },\r\n    {\r\n       image: \"https://images.unsplash.com/photo-1589561253898-768105ca91a8?q=80&w=1738&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D\",\r\n       caption: \"Beautiful Design\"\r\n    },\r\n    {\r\n      title: \"Premium Components\",\r\n      content: \"From glass-morphic buttons to 3D cards, each component is designed with attention to detail. Self-contained, easy to install via CLI, and ready to use.\"\r\n    },\r\n    {\r\n        quote: \"Great design is not just what looks good. It also needs to perform, convert, and amaze.\",\r\n        author: \"RareUI Philosophy\"\r\n    },\r\n    {\r\n        title: \"Getting Started\",\r\n        content: \"Install any component with a single command: npx rareui@latest add [component-name]. No configuration needed, just beautiful components ready to go.\"\r\n    },\r\n    {\r\n        title: \"Build Something Rare\",\r\n        content: \"Join thousands of developers creating stunning interfaces with RareUI. Your next project deserves components that stand out.\"\r\n    }\r\n  ]\r\n}: Book3DProps) {\r\n  const [isHovered, setIsHovered] = useState(false)\r\n  const [pageIndex, setPageIndex] = useState(0) // 0 means just cover open, no pages flipped\r\n\r\n  // Reset pages when book closes\r\n  useEffect(() => {\r\n    if (!isHovered) {\r\n      const timer = setTimeout(() => {\r\n        setPageIndex(0)\r\n      }, 300) // Small delay to allow cover to start closing\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [isHovered])\r\n\r\n  const [isFlipping, setIsFlipping] = useState(false)\r\n\r\n  const handlePageClick = (index: number) => {\r\n     if (!isHovered || isFlipping) return\r\n     if (pageIndex === index) {\r\n         setIsFlipping(true)\r\n         setPageIndex(prev => prev + 1)\r\n         setTimeout(() => setIsFlipping(false), 300) // Debounce\r\n     }\r\n  }\r\n\r\n  const handleBackClick = (e: React.MouseEvent, index: number) => {\r\n      e.stopPropagation()\r\n      if (isFlipping) return\r\n      setIsFlipping(true)\r\n      setPageIndex(index) \r\n      setTimeout(() => setIsFlipping(false), 300)\r\n  }\r\n\r\n  return (\r\n    <div \r\n      className={cn(\"relative group cursor-pointer z-10\", className, isHovered && \"z-50\")}\r\n      style={{ \r\n        perspective: \"1500px\",\r\n        paddingLeft: \"150px\", // Extra space for the rotated cover on the left\r\n        marginLeft: \"-150px\" // Pull back to maintain visual position\r\n      }}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => setIsHovered(false)}\r\n    >\r\n      <motion.div\r\n        className=\"relative preserve-3d transition-all duration-700 ease-out\"\r\n        style={{ \r\n          width, \r\n          height,\r\n          transformStyle: \"preserve-3d\", \r\n        }}\r\n        animate={{ \r\n          rotateY: isHovered ? -35 : 0,\r\n          rotateX: isHovered ? 15 : 0,\r\n          z: isHovered ? 60 : 0\r\n        }}\r\n      >\r\n        {/* Back Cover - Static Base */}\r\n        <div \r\n          className=\"absolute inset-0 bg-[#2f2f2f] rounded-r-md rounded-l-sm shadow-2xl\"\r\n          style={{ \r\n            transform: \"translateZ(-20px)\",\r\n            boxShadow: \"20px 20px 50px rgba(0,0,0,0.5)\"\r\n          }}\r\n        />\r\n\r\n        {/* PAGES STACK */}\r\n        {Array.from({ length: pages.length }).map((_, i) => pages.length - 1 - i).map((index) => {\r\n             const isFlipped = index < pageIndex\r\n             \r\n             // Dynamic z-index optimization\r\n             let activeZIndex = 0\r\n             if (isFlipped) {\r\n                 activeZIndex = index + 1\r\n             } else {\r\n                 activeZIndex = 20 - index // Higher base to safely sit above back cover but below front cover\r\n             }\r\n\r\n             return (\r\n                 <motion.div\r\n                    key={index}\r\n                    className=\"absolute inset-y-[2px] right-[2px] left-[4px] bg-[#fffcf5] rounded-l-sm rounded-r-md origin-left transform-style-3d border border-neutral-100/50 cursor-pointer\"\r\n                    style={{\r\n                        transformStyle: \"preserve-3d\",\r\n                        zIndex: activeZIndex\r\n                    }}\r\n                    animate={{\r\n                        rotateY: isFlipped ? -178 : 0,\r\n                        z: isFlipped ? 0 : (pages.length - 1 - index) , \r\n                    }}\r\n                    transition={{\r\n                        duration: 0.6,\r\n                        ease: [0.23, 1, 0.32, 1], \r\n                        delay: isFlipped ? 0 : (index * 0.05)\r\n                    }}\r\n                    onClick={(e) => {\r\n                        e.stopPropagation()\r\n                        if (isFlipped) {\r\n                            handleBackClick(e, index)\r\n                        } else {\r\n                            handlePageClick(index)\r\n                        }\r\n                    }}\r\n                 >\r\n                     {/* FRONT FACE (Right side content) */}\r\n                     <div \r\n                        className=\"absolute inset-0 backface-hidden p-6 overflow-hidden flex flex-col items-center justify-center text-center bg-white\"\r\n                        style={{ backfaceVisibility: \"hidden\" }}\r\n                     >\r\n                         <div className=\"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/paper.png')] opacity-10 pointer-events-none\" />\r\n                         {/* Deeper right edge shadow for book crease */}\r\n                         <div className=\"absolute right-0 top-0 bottom-0 w-12 bg-gradient-to-l from-black/20 via-black/5 to-transparent pointer-events-none\" />\r\n                         {/* Left edge for binding */}\r\n                         <div className=\"absolute left-0 top-0 bottom-0 w-2 bg-gradient-to-r from-black/10 to-transparent pointer-events-none\" />\r\n                         \r\n                         <div className=\"relative z-10 font-serif text-neutral-800 select-none\">\r\n                             {pages[index].image && (\r\n                                 <div className=\"mb-4 rounded-sm overflow-hidden border border-neutral-200 shadow-inner\">\r\n                                     <img src={pages[index].image} alt=\"Page visual\" className=\"w-full h-32 object-cover grayscale hover:grayscale-0 transition-all\" />\r\n                                 </div>\r\n                             )}\r\n                             {pages[index].title && (\r\n                                 <h3 className=\"text-lg font-bold mb-2 font-sans uppercase tracking-widest text-[10px]\">{pages[index].title}</h3>\r\n                             )}\r\n                             {pages[index].content && (\r\n                                 <p className=\"text-[10px] leading-relaxed text-neutral-600\">{pages[index].content}</p>\r\n                             )}\r\n                             {pages[index].quote && (\r\n                                 <blockquote className=\"italic text-sm text-neutral-600 border-l-2 border-neutral-300 pl-3\">\r\n                                     \"{pages[index].quote}\"\r\n                                     <footer className=\"text-[9px] text-neutral-400 mt-2 not-italic font-sans\">- {pages[index].author}</footer>\r\n                                 </blockquote>\r\n                             )}\r\n                             <span className=\"absolute bottom-2 right-4 text-[8px] text-neutral-400\">{index + 1}</span>\r\n                         </div>\r\n                     </div>\r\n\r\n                     {/* BACK FACE (Left side content) */}\r\n                     <div \r\n                        className=\"absolute inset-0 bg-[#f8f5f0] backface-hidden flex items-center justify-center\"\r\n                        style={{ \r\n                            transform: \"rotateY(180deg)\",\r\n                            backfaceVisibility: \"hidden\" \r\n                        }}\r\n                     >\r\n                        <div className=\"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/paper.png')] opacity-10 pointer-events-none\" />\r\n                        {/* Left edge shadow (becomes visible when flipped) */}\r\n                        <div className=\"absolute left-0 top-0 bottom-0 w-12 bg-gradient-to-r from-black/20 via-black/5 to-transparent pointer-events-none\" />\r\n                        <div className=\"text-[9px] text-neutral-400 font-sans tracking-widest uppercase transform rotate-90 opacity-30 select-none\">Notes</div>\r\n                     </div>\r\n                 </motion.div>\r\n             )\r\n        })}\r\n\r\n        {/* Front Cover */}\r\n        <motion.div\r\n            className={cn(\r\n                \"absolute inset-0 origin-left\", \r\n                isHovered ? \"z-0 pointer-events-none\" : \"z-50 pointer-events-auto\"\r\n            )}\r\n            style={{ \r\n                transformStyle: \"preserve-3d\",\r\n                transform: !isHovered ? \"translateZ(10px)\" : undefined // Ensure it starts in front\r\n            }}\r\n            initial={{\r\n                rotateY: 0,\r\n                z: 10\r\n            }}\r\n            animate={{ \r\n                rotateY: isHovered ? -180 : 0,\r\n                z: isHovered ? 0 : 10, // Push far forward when closed to be in front of all pages\r\n            }}\r\n            transition={{\r\n                duration: 0.8,\r\n                ease: [0.23, 1, 0.32, 1],\r\n                delay: isHovered ? 0 : 0.5 // Delay closing so pages flip back first\r\n            }}\r\n        >\r\n            {/* Outer Cover */}\r\n            <div \r\n            className={cn(\r\n              \"absolute inset-0 rounded-r-md rounded-l-sm overflow-hidden backface-hidden shadow-md border-l border-white/10\",\r\n              src ? \"bg-neutral-900\" : \"bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900\"\r\n            )}\r\n            style={{ \r\n                backgroundImage: src ? `url(${src})` : undefined,\r\n                backgroundSize: src ? \"cover\" : undefined,\r\n                backgroundPosition: src ? \"center\" : undefined,\r\n                backfaceVisibility: \"hidden\"\r\n            }}\r\n            >\r\n                {/* Conditional overlays based on mode */}\r\n                {src ? (\r\n                  <>\r\n                    {/* Image mode overlays */}\r\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-black/30 to-transparent\" />\r\n                    <div className=\"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/40\" />\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    {/* Branding mode pattern */}\r\n                    <div className=\"absolute inset-0 opacity-5\" style={{\r\n                        backgroundImage: 'radial-gradient(circle at 2px 2px, white 1px, transparent 0)',\r\n                        backgroundSize: '32px 32px'\r\n                    }} />\r\n                  </>\r\n                )}\r\n                \r\n                {/* Decorative border frame */}\r\n                <div className=\"absolute inset-4 border border-white/20 rounded-sm pointer-events-none\" />\r\n                <div className=\"absolute inset-6 border border-white/10 rounded-sm pointer-events-none\" />\r\n                \r\n                {/* Corner ornaments */}\r\n                <div className=\"absolute top-8 left-8 w-8 h-8 border-t-2 border-l-2 border-white/30\" />\r\n                <div className=\"absolute top-8 right-8 w-8 h-8 border-t-2 border-r-2 border-white/30\" />\r\n                <div className=\"absolute bottom-8 left-8 w-8 h-8 border-b-2 border-l-2 border-white/30\" />\r\n                <div className=\"absolute bottom-8 right-8 w-8 h-8 border-b-2 border-r-2 border-white/30\" />\r\n                \r\n                {/* Content - Custom or Default */}\r\n                {src || title || subtitle ? (\r\n                  // Custom cover with user's image/title/subtitle\r\n                  <div className=\"absolute inset-0 flex flex-col items-center justify-center text-white p-8 select-none z-10\">\r\n                      {title && (\r\n                          <div className=\"text-center mb-4\">\r\n                              <div className=\"w-16 h-[1px] bg-white/40 mx-auto mb-6\" />\r\n                              <h3 className=\"text-3xl font-bold font-serif tracking-wider mb-2 drop-shadow-lg\">{title}</h3>\r\n                              <div className=\"w-16 h-[1px] bg-white/40 mx-auto mt-4\" />\r\n                          </div>\r\n                      )}\r\n                      {subtitle && (\r\n                          <p className=\"text-sm font-light tracking-widest uppercase opacity-90 mt-2\">{subtitle}</p>\r\n                      )}\r\n                  </div>\r\n                ) : (\r\n                  // Default RareUI branding cover\r\n                  <div className=\"absolute inset-0 flex flex-col items-center justify-center text-white pl-10 pr-10 select-none z-10\">\r\n                      {/* Logo/Brand */}\r\n                      <div className=\"text-center mb-8\">\r\n                          <div className=\"w-20 h-[2px] bg-gradient-to-r from-transparent via-white/60 to-transparent mx-auto pt-16\" />\r\n                          <h1 className=\"text-4xl font-bold font-serif tracking-wider mb-2 drop-shadow-lg bg-gradient-to-r from-white via-white to-white/80 bg-clip-text text-transparent pt-1\">\r\n                              RareUI\r\n                          </h1>\r\n                          <div className=\"w-20 h-[2px] bg-gradient-to-r from-transparent via-white/60 to-transparent mx-auto mt-4\" />\r\n                      </div>\r\n                      \r\n                      {/* Tagline */}\r\n                      <p className=\"text-xs font-light tracking-[0.3em] uppercase opacity-80 mb-8\">\r\n                          Premium Component Library\r\n                      </p>\r\n                      \r\n                      {/* Description */}\r\n                      <div className=\"max-w-[180px] text-center space-y-3 text-[9px] leading-relaxed opacity-70 font-light\">\r\n                          <p>Beautifully crafted React components with stunning animations</p>\r\n                          <p className=\"text-white/50\">•</p>\r\n                          <p>Built with Motion & Tailwind CSS</p>\r\n                          <p className=\"text-white/50\">•</p>\r\n                          <p className=\"pb-8.5\">Easy installation via CLI</p>\r\n                      </div>\r\n                      \r\n                      {/* Bottom accent */}\r\n                      <div className=\"absolute bottom-12 left-1/2 -translate-x-1/2\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                              <div className=\"w-8 h-[1px] bg-white/30\" />\r\n                              <div className=\"w-1 h-1 rounded-full bg-white/50\" />\r\n                              <div className=\"w-8 h-[1px] bg-white/30\" />\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Inner Cover */}\r\n            <div \r\n                className=\"absolute inset-0 bg-[#f5f1e8] rounded-l-md rounded-r-sm overflow-hidden backface-hidden border-r border-neutral-200\"\r\n                style={{ \r\n                    transform: \"rotateY(180deg)\",\r\n                    backfaceVisibility: \"hidden\"\r\n                }}\r\n            >\r\n                <div className=\"w-full h-full p-8 flex flex-col justify-end\">\r\n                     <p className=\"text-xs font-serif italic text-neutral-500 text-center select-none\">RareUi</p>\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n\r\n      </motion.div>\r\n\r\n      {/* Shadow */}\r\n      <div \r\n        className={cn(\r\n            \"absolute bottom-0 left-4 right-4 h-10 bg-black/40 blur-xl rounded-[100%] transition-all duration-500\",\r\n            isHovered ? \"opacity-80 scale-110\" : \"opacity-40\"\r\n        )}\r\n        style={{\r\n            transform: \"perspective(1000px) rotateX(60deg) translateZ(-60px)\"\r\n        }}\r\n       />\r\n    </div>\r\n  )\r\n}\r\n",
      "type": "registry:ui",
      "target": "components/rareui/3D elements/book-3d.tsx"
    }
  ]
}