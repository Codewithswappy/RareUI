{
  "name": "modal",
  "type": "registry:ui",
  "dependencies": [
    "react",
    "cmdk",
    "framer-motion",
    "lucide-react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/rareui/overlays/modal.tsx",
      "content": "\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Command } from \"cmdk\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Search } from \"lucide-react\";\r\nimport { useSearchContext } from \"@/components/rareui/search-context\";\r\n\r\nexport function CommandPaletteModal() {\r\nconst { openSearch, setOpenSearch } = useSearchContext();\r\nconst [search, setSearch] = React.useState(\"\");\r\n\r\nconst items = [\r\n  { category: \"Pages\", label: \"Home\", url: \"/\" },\r\n  { category: \"Pages\", label: \"About\", url: \"/about\" },\r\n  { category: \"Components\", label: \"Button\", url: \"/components/button\" },\r\n  { category: \"Components\", label: \"Modal\", url: \"/components/modal\" },\r\n];\r\n\r\nReact.useEffect(() => {\r\n  const down = (e: KeyboardEvent) => {\r\n    if (e.key === \"k\" && (e.metaKey || e.ctrlKey)) {\r\n      e.preventDefault();\r\n      setOpenSearch(true);\r\n    }\r\n    if (e.key === \"Escape\") setOpenSearch(false);\r\n  };\r\n  document.addEventListener(\"keydown\", down);\r\n  return () => document.removeEventListener(\"keydown\", down);\r\n}, [setOpenSearch]);\r\n\r\nconst filteredItems = items.filter((item) =>\r\n  item.label.toLowerCase().includes(search.toLowerCase()) ||\r\n  item.category.toLowerCase().includes(search.toLowerCase())\r\n);\r\n\r\nreturn (\r\n    <AnimatePresence>\r\n      {openSearch && (\r\n        <motion.div\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm\"\r\n          onClick={() => setOpenSearch(false)}\r\n        >\r\n          <motion.div\r\n            initial={{ scale: 0.95, opacity: 0 }}\r\n            animate={{ scale: 1, opacity: 1 }}\r\n            exit={{ scale: 0.95, opacity: 0 }}\r\n            transition={{ duration: 0.15 }}\r\n            className=\"relative w-full max-w-2xl rounded-2xl border bg-neutral-900 shadow-2xl\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <Command className=\"rounded-2xl text-neutral-50\">\r\n              <div className=\"flex items-center gap-2 border-b border-neutral-800 px-4 py-3\">\r\n                <Search className=\"h-4 w-4 text-neutral-400\" />\r\n                <Command.Input\r\n                  placeholder=\"Search...\"\r\n                  value={search}\r\n                  onValueChange={setSearch}\r\n                  className=\"flex-1 bg-transparent text-sm outline-none placeholder:text-neutral-500\"\r\n                  autoFocus\r\n                />\r\n                <kbd className=\"rounded bg-neutral-800 px-2 py-1 text-[10px] text-neutral-400\">\r\n                  Esc\r\n                </kbd>\r\n              </div>\r\n\r\n              <Command.List className=\"max-h-[60vh] overflow-y-auto px-2 py-2\">\r\n                {filteredItems.length === 0 && (\r\n                  <div className=\"px-4 py-6 text-center text-sm text-neutral-400\">\r\n                    No results found.\r\n                  </div>\r\n                )}\r\n\r\n                {Array.from(new Set(filteredItems.map(item => item.category))).map((category) => {\r\n                  const categoryItems = filteredItems.filter(item => item.category === category);\r\n                  if (!categoryItems.length) return null;\r\n                  return (\r\n                    <Command.Group key={category} heading={category} className=\"text-neutral-500 px-2 py-1 text-xs font-semibold\">\r\n                      {categoryItems.map((item, i) => (\r\n                        <Command.Item\r\n                          key={i}\r\n                          className=\"flex items-center gap-2 rounded-md px-3 py-2 text-sm hover:bg-neutral-800 cursor-pointer\"\r\n                          onSelect={() => {\r\n                            window.location.href = item.url;\r\n                            setOpenSearch(false);\r\n                          }}\r\n                        >\r\n                          {item.label}\r\n                        </Command.Item>\r\n                      ))}\r\n                    </Command.Group>\r\n                  );\r\n                })}\r\n              </Command.List>\r\n            </Command>\r\n          </motion.div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n);\r\n}",
      "type": "registry:ui",
      "target": "components/rareui/overlays/modal.tsx"
    }
  ]
}