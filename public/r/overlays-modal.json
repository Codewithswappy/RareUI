{
  "name": "overlays-modal",
  "type": "registry:ui",
  "dependencies": [
    "react",
    "cmdk",
    "framer-motion",
    "lucide-react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/rareui/overlays/modal.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Command } from \"cmdk\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Search } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useSearchContext } from \"@/components/rareui/search-context\";\nimport { sidebarData } from \"@/lib/sidebar-data\";\n\nexport function CommandPaletteModal() {\n  const { openSearch, setOpenSearch } = useSearchContext();\n  const [search, setSearch] = React.useState(\"\");\n\n  // Convert sidebar data to searchable format\n  const components = React.useMemo(() => {\n    return sidebarData.flatMap(section => \n      section.items.map(item => ({\n        category: section.title,\n        label: item.title,\n        url: item.href\n      }))\n    );\n  }, []);\n\n  React.useEffect(() => {\n    const down = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") setOpenSearch(false);\n      if (e.metaKey && e.key.toLowerCase() === \"k\") {\n        e.preventDefault();\n        setOpenSearch(!openSearch);\n      }\n    };\n    document.addEventListener(\"keydown\", down);\n    return () => document.removeEventListener(\"keydown\", down);\n  }, [openSearch, setOpenSearch]);\n\n  const filteredItems = components.filter((item) =>\n    item.label.toLowerCase().includes(search.toLowerCase()) ||\n    item.category.toLowerCase().includes(search.toLowerCase())\n  );\n\n  return (\n    <AnimatePresence>\n      {openSearch && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm\"\n          onClick={() => setOpenSearch(false)}\n        >\n          <motion.div\n            initial={{ scale: 0.95, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0.95, opacity: 0 }}\n            transition={{ duration: 0.15 }}\n            className={cn(\n              \"relative w-full max-w-2xl rounded-2xl border bg-neutral-900/70 backdrop-blur-2xl shadow-2xl\"\n            )}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <Command className=\"rounded-2xl text-neutral-50\">\n              <div className=\"flex items-center gap-2 border-b px-4 py-3\">\n                <Search className=\"h-4 w-4 text-neutral-50\" />\n                <Command.Input\n                  placeholder=\"Search...\"\n                  value={search}\n                  onValueChange={setSearch}\n                  className=\"flex-1 bg-transparent text-sm outline-none placeholder:text-neutral-500\"\n                  autoFocus\n                />\n                <kbd className=\"rounded bg-neutral-800 px-2 py-1 text-[10px] text-neutral-400\">\n                  Esc\n                </kbd>\n              </div>\n\n              <Command.List className=\"max-h-[60vh] overflow-y-auto px-2 py-2\">\n                {filteredItems.length === 0 && (\n                  <div className=\"px-4 py-6 text-center text-sm text-neutral-50\">\n                    No results found.\n                  </div>\n                )}\n\n                {Array.from(new Set(filteredItems.map(item => item.category))).map((category) => {\n                  const categoryItems = filteredItems.filter(\n                    (item) => item.category === category\n                  );\n                  if (!categoryItems.length) return null;\n                  return (\n                    <Command.Group key={category} heading={category} className=\"text-neutral-400\">\n                      {categoryItems.map((item, i) => (\n                        <Command.Item\n                          key={i}\n                          className=\"flex items-center gap-2 rounded-md px-3 py-2 text-sm hover:bg-white/5 cursor-pointer\"\n                          onSelect={() => {\n                            window.location.href = item.url;\n                            setOpenSearch(false);\n                          }}\n                        >\n                          {item.label}\n                        </Command.Item>\n                      ))}\n                    </Command.Group>\n                  );\n                })}\n              </Command.List>\n            </Command>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n",
      "type": "registry:ui",
      "target": "components/rareui/overlays/modal.tsx"
    }
  ]
}